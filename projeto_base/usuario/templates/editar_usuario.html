{% extends "Base_dashboard.html" %}

{% block conteudo %}

{% with messages = get_flashed_messages() %}
{% if messages %}
    <ul class=flashes>
        {% for message in messages %}
            <li><b>{{ message }}</b></li>
        {% endfor %}
    </ul>
{% endif %}
{% endwith %}

<h3>Edição de usuário</h3>
<form action="{{url_for('usuario.editar_usuario')}}" method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <input type="hidden" id="loginAtual" name="loginAtual" value="{{login_usuario}}">
    <input type="hidden" id="emailAtual" name="emailAtual" value="{{email_usuario}}">

    <div>
        <span>Login:</span>
        <input type="text" id="login" name="login" value="{{login_usuario}}" placeholder="Seu login" required style="margin: 5px;" maxlength="255">
    </div>
    <div>
        <span>Email:</span>
        <input type="email" id="email" name="email" value="{{email_usuario}}" placeholder="Seu email" required style="margin: 5px;" maxlength="80">
    </div>

    {%if permissao_usuario == usuario_urole_roles.ADMIN%}
    <div>
        <span>Ativo/Inativo:</span>
        <input type="text" id="ativo" name="ativo" value="ativo" placeholder="ativo" style="margin: 5px;">
    </div>
    {%endif%}

    <button type="submit">Confirmar</button>
    <button type="button"><a href="{{url_for('usuario.editar_senha_usuario')}}" style="color: inherit; text-decoration: none;">Editar senha</a></button>
    {%if permissao_usuario == usuario_urole_roles.USER%}
    <button type="button">
        <a href="{{url_for('usuario.excluir_usuario')}}" style="color: inherit; text-decoration: none;" onclick="return confirm('Voce tem certeza que deseja excluir esta conta?')">Excluir Conta</a>
    </button>
    {%endif%}
    <button type="button"><a href="{{url_for('principal.index')}}" style="color: inherit; text-decoration: none;">Cancelar</a></button>
</form>
{% endblock %}
